(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["snake"],{"4b85":function(t,e,i){},5365:function(t,e,i){"use strict";var a=i("a848"),n=i.n(a);n.a},"61ea":function(t,e,i){"use strict";i.r(e);var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"px-2 my-5 py-0",staticStyle:{"max-width":"600px","min-width":"300px"}},[i("v-responsive",{staticClass:"container",attrs:{"aspect-ratio":1}},[i("div",{staticClass:"board"},[t._l(t.board,(function(e,a){return i("div",{key:a,ref:"tile-"+a,refInFor:!0,staticClass:"tile",style:t.showTile(e)})})),i("transition",{attrs:{name:"fade"}},[t.gaming?t.gaming&&t.paused?i("div",{staticClass:"centered"},[i("div",[i("h2",{staticClass:"primary--text"},[t._v("Paused")]),i("br"),i("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(e){t.paused=!1}}},[t._v(" Resume ")])],1)]):t._e():i("div",{staticClass:"centered"},[i("div",[i("h2",{staticClass:"primary--text"},[t._v("Game Over!")]),i("br"),i("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.start()}}},[t._v("Restart")])],1)])])],2)]),i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.gaming?i("control",{on:{onKey:t.handleKey}}):t._e()],1)],1)},s=[],r=(i("4de4"),i("4160"),i("159b"),i("262e")),o=i("2caf"),c=i("d4ec"),u=i("bee2"),h=i("9ab4"),d=i("60a3"),l=i("9380");(function(t){t[t["Empty"]=0]="Empty",t[t["Head"]=1]="Head",t[t["Crushed"]=2]="Crushed",t[t["Body"]=3]="Body",t[t["Fruit"]=4]="Fruit"})(a||(a={}));var v=function(){function t(e){Object(c["a"])(this,t),this.type=e,this.setType(e)}return Object(u["a"])(t,[{key:"setType",value:function(t){switch(this.type=t,t){case a.Fruit:this.color="var(--v-accent-base)";break;case a.Body:this.color="var(--v-primary-lighten1)";break;case a.Head:this.color="var(--v-primary-base)";break;case a.Crushed:this.color="var(--v-error-base)";break;case a.Empty:default:this.color="var(--v-black-darken4)"}}}]),t}(),f=function(t){Object(r["a"])(i,t);var e=Object(o["a"])(i);function i(){var t;return Object(c["a"])(this,i),t=e.apply(this,arguments),t.MIN=4,t.boardSize=t.size*t.size,t.board=[],t.length=3,t.gaming=!0,t.paused=!1,t.snake=[],t.next=[0,0],t.direction=[0,1],t.interval=1e3,t.fruitCount=0,t}return Object(u["a"])(i,[{key:"mounted",value:function(){this.size<this.MIN&&(this.size=this.MIN,this.boardSize=this.size*this.size),this.moniterKey(),this.start()}},{key:"deactivated",value:function(){this.paused=!0}},{key:"activated",value:function(){this.gaming||(this.paused=!1)}},{key:"init",value:function(){this.stopInterval(),this.board.length=0,this.snake.length=0,this.fruitCount=0,this.direction=[0,1]}},{key:"start",value:function(){var t=this;this.init(),this.gaming=!0;for(var e=0;e<this.boardSize;e++)this.board.push(new v(a.Empty));var i=Math.floor(this.size/2);this.snake.push(i*this.size+2),this.snake.push(i*this.size+1),this.snake.push(i*this.size+0),this.decideNext(),this.insertFruitAndRefresh(),this.intervalId=setInterval((function(){t.gaming&&!t.paused&&(t.decideNext(),t.moveNext())}),this.interval)}},{key:"insertFruitAndRefresh",value:function(){var t=this;if(this.gaming){this.snake.forEach((function(e){return t.board[e].setType(a.Body)})),this.board[this.snake[0]].setType(a.Head);while(this.fruitCount<2){var e=this.board.filter((function(t){return t.type===a.Empty}));if(0===e.length)break;var i=Math.floor(Math.random()*e.length);e[i].setType(a.Fruit),this.fruitCount++}}}},{key:"decideNext",value:function(){var t=this.snake[0];this.next[0]=Math.floor(t/this.size)+this.direction[0],this.next[1]=t%this.size+this.direction[1]}},{key:"moveNext",value:function(){var t=this.nextTile();if(t){var e=this.snake.pop();if(void 0!=e){switch(this.board[e].setType(a.Empty),t.type){case a.Empty:this.snake.unshift(this.next[0]*this.size+this.next[1]);break;case a.Fruit:this.snake.unshift(this.next[0]*this.size+this.next[1]),this.snake.push(e),this.fruitCount--;break;case a.Body:this.gameOver();break;default:break}this.insertFruitAndRefresh()}}else this.gameOver()}},{key:"withinRange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.next;return t[0]>=0&&t[0]<this.size&&t[1]>=0&&t[1]<this.size}},{key:"nextTile",value:function(){if(this.withinRange())return this.board[this.next[0]*this.size+this.next[1]]}},{key:"gameOver",value:function(){this.board[this.snake[0]].setType(a.Crushed),this.gaming=!1}},{key:"beforeDestroy",value:function(){this.stopInterval(),this.unmoniterKey()}},{key:"stopInterval",value:function(){this.intervalId&&window.clearInterval(this.intervalId),this.intervalId=void 0}},{key:"moniterKey",value:function(){addEventListener("keyup",this.keyMonitor)}},{key:"unmoniterKey",value:function(){removeEventListener("keyup",this.keyMonitor)}},{key:"keyMonitor",value:function(t){t instanceof KeyboardEvent&&this.gaming&&this.handleKey(t.key)}},{key:"handleKey",value:function(t){switch(t){case"ArrowLeft":case"a":this.handleInput([0,-1]);break;case"ArrowUp":case"w":this.handleInput([-1,0]);break;case"ArrowRight":case"d":this.handleInput([0,1]);break;case"ArrowDown":case"s":this.handleInput([1,0]);break;default:break}}},{key:"handleInput",value:function(t){var e=this.snake[0],i=(Math.floor(e/this.size)+t[0])*this.size+e%this.size+t[1];i!==this.snake[1]&&(this.direction=t)}},{key:"showTile",value:function(t){var e=95/this.size;return{width:e+"%",height:e+"%",backgroundColor:t.color}}}]),i}(d["c"]);Object(h["a"])([Object(d["b"])({default:10})],f.prototype,"size",void 0),f=Object(h["a"])([Object(d["a"])({components:{Control:l["a"]}})],f);var p=f,y=p,b=(i("5365"),i("2877")),k=i("6544"),m=i.n(k),g=i("8336"),w=i("a523"),C=i("6b53"),x=Object(b["a"])(y,n,s,!1,null,"897edc4c",null);e["default"]=x.exports;m()(x,{VBtn:g["a"],VContainer:w["a"],VResponsive:C["a"]})},"63f1":function(t,e,i){"use strict";var a=i("9873"),n=i.n(a);n.a},9380:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:"game-control",staticClass:"arrow-controls"},[i("v-btn",{staticClass:"ma-0",attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.onKey("w")}}},[i("v-icon",[t._v("mdi-arrow-up-bold")])],1),i("br"),i("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.onKey("a")}}},[i("v-icon",[t._v("mdi-arrow-left-bold")])],1),i("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.onKey("d")}}},[i("v-icon",[t._v("mdi-arrow-right-bold")])],1),i("br"),i("v-btn",{staticClass:"ma-0",attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.onKey("s")}}},[i("v-icon",[t._v("mdi-arrow-down-bold")])],1)],1)},n=[],s=i("d4ec"),r=i("bee2"),o=i("262e"),c=i("2caf"),u=i("9ab4"),h=i("60a3"),d=function(t){Object(o["a"])(i,t);var e=Object(c["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return Object(r["a"])(i,[{key:"onKey",value:function(t){this.$emit("onKey",t)}}]),i}(h["c"]);d=Object(u["a"])([h["a"]],d);var l=d,v=l,f=(i("63f1"),i("2877")),p=i("6544"),y=i.n(p),b=i("8336"),k=i("132d"),m=Object(f["a"])(v,a,n,!1,null,"1072d3e6",null);e["a"]=m.exports;y()(m,{VBtn:b["a"],VIcon:k["a"]})},9873:function(t,e,i){},a523:function(t,e,i){"use strict";i("99af"),i("4de4"),i("b64b"),i("2ca0"),i("20f6"),i("4b85"),i("a15b"),i("498a");var a=i("2b0e");function n(t){return a["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,i){var a=i.props,n=i.data,s=i.children;n.staticClass="".concat(t," ").concat(n.staticClass||"").trim();var r=n.attrs;if(r){n.attrs={};var o=Object.keys(r).filter((function(t){if("slot"===t)return!1;var e=r[t];return t.startsWith("data-")?(n.attrs[t]=e,!1):e||"string"===typeof e}));o.length&&(n.staticClass+=" ".concat(o.join(" ")))}return a.id&&(n.domProps=n.domProps||{},n.domProps.id=a.id),e(a.tag,n,s)}})}var s=i("d9f7");e["a"]=n("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var i,a=e.props,n=e.data,r=e.children,o=n.attrs;return o&&(n.attrs={},i=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(n.attrs[t]=e,!1):e||"string"===typeof e}))),a.id&&(n.domProps=n.domProps||{},n.domProps.id=a.id),t(a.tag,Object(s["a"])(n,{staticClass:"container",class:Array({"container--fluid":a.fluid}).concat(i||[])}),r)}})},a848:function(t,e,i){}}]);
//# sourceMappingURL=snake.7c7c80c7.js.map